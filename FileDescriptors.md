В среде entware Keenetic довольно низкий предел файловых дескрипторов (fd) выделяемых на один процесс - 1024. Превышение этого значения приводит к отказу xray создавать новые коннекты. На процессорах arm64 суммарно на все процессы отведено около 50000 fd, а на mips процессорах около 12000 fd (цифры могут отличаться для разных моделей роутеров). Оригинал XKeen выделяет для процесса xray 1 миллион! дескрипторов, что очень много и если xray попытается их занять, роутер может просто зависнуть. Форк XKeen версии 1.1.3.6+, в зависимости от процессора, устанавливает для xray лимит 40000 fd для arm64 и 10000 fd для остальных процессоров, а при достижении 90% от этой цифры, перезапускает xray. В параметрах `arm64_fd` и `other_fd` файла `/opt/etc/init.d/S24xray` при необходимости можно откорректировать лимиты, установив другие значения. Чтобы новые лимиты применились или сменился режим контроля (включено/выключено) при использовании параметра `-fd`, требуется перезагрузка роутера. Контроль fd может быть полезен для высоконагруженных роутеров с большим количеством клиентов. Для типичного selfuse применения XKeen, данный функционал использовать необязательно, поэтому по умолчанию контроль открытых файловых дескрипторов процессом xray отключен (включить/отключить можно командой `xkeen -fd`)
